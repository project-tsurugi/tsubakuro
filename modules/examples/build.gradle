plugins {
    id 'application'
    id 'tsubakuro.java-conventions'
}

dependencies {
    implementation 'org.msgpack:msgpack-core:0.8.19'
    implementation 'commons-cli:commons-cli:1.4'

    implementation project(':sql')
    implementation project(':ipc')
    implementation project(':common')
}

application {
    mainClass.set('com.nautilus_technologies.tsubakuro.low.Main')
}

run {
    systemProperty 'java.library.path', "$project.projectDir/../ipc/src/main/native/build/src"
}

spotbugs {
    excludeFilter = file("$projectDir/config/spotbugs/spotbugsExclude.xml")
}

tasks.withType(JavaExec) {
    jvmArgs = ['-Xms1024m', '-Xmx4096m', "-XX:+PreserveFramePointer"]
}
